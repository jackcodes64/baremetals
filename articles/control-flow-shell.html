<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BareMetal | Shell Control Flow</title>
    <link rel="icon" type="image/png" href="/utilities/community.svg">
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <a class="logo" href="/home.html"><h2 style="padding-right: 10px;">BareMetal</h2> <img src="/utilities/community.svg" alt="logoPart"></a>
            <ul>
                <li><a href="/home.html" class="tab">Home</a></li>
                <li><a href="/cpp.html" class="tab">C++</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div >
                        <h2>Articles</h2>
                        <div class="twoGroups">
                        <div>
                        <p><a href="">Fundamental Data Types </a></p>
                        <p><a href="">Bitwise Operators</a></p>
                        <p><a href="">Formatting Stream Output</a></p>
                        <p><a href="">Variable Lifetimes</a></p>
                        </div>
                        <div>
                        <p><a href="">Decision Constructs</a></p>
                        <p><a href="">Classes</a></p>
                        <p><a href="">Pointers & References</a></p>
                        <p><a href="">Functions in C++</a></p>
                        </div>
                        </div>
                    </div>
                    <div>
                        <h2>Videos</h2>
                                <p><a href="">Classes Definition</a></p>
                                <p><a href="">Standard Template Library</a></p>
                                <p><a href="">Fundemental Data Types</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    <div>
                        <h2>Notes</h2>
                                <p><a href="">Containers</a></p>
                                <p><a href="">Cheat-Sheets</a></p>
                                <p><a href="">Audio-Project</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    </div>
                </div></li>
                <li><a href="/embedded.html" class="tab">Embedded</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div>
                        <h2>Articles</h2>
                        <p><a href="">Introduction to Embedded Systems.</a></p>
                        <p><a href="">Embedded Linux</a></p>
                        <p><a href="">Low power design</a></p>
                        <p><a href="">Internet of Things</a></p>
                    </div>
                    <div>
                        <h2>Videos</h2>
                        <p><a href="">Embedded Cybersecurity</a></p>
                        <p><a href="">Consumer Electronics</a></p>
                        <p><a href="">Microcontrollers vs Microprocessors</a></p>
                        <p><a href="">Communication Protocols</a></p>
                    </div>
                    <div >
                        <h2>Notes</h2>
                                <p><a href="">DIY projects</a></p>
                                <p><a href="">Cheat-Sheets</a></p>
                                <p><a href="">Case Studies</a></p>
                                <p><a href="">Embedded Linux</a></p>
                    </div>
                    </div>
                </div></li>
                <li><a href="/dsa.html " class="tab">DSA</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div >
                        <h2>Articles</h2>
                        <div class="twoGroups">
                        <div>
                        <p><a href="">Algorithms</a></p>
                        <p><a href="">Data Structures</a></p>
                        <p><a href="">Common Algorithms</a></p>
                        <p><a href="">Embedded systems & algorithms</a></p>
                        </div>
                        <div>
                        <p><a href="">QuickSort</a></p>
                        <p><a href="">Encryption Algoritms</a></p>
                        <p><a href="">Understanding Stacks</a></p>
                        <p><a href="">Divide and Conquer</a></p>
                        </div>
                        </div>
                    </div>
                    <div>
                        <h2>Videos</h2>
                                <p><a href="">Race conditions in OS</a></p>
                                <p><a href="">Scheduling Algorthms</a></p>
                                <p><a href="">Common OS Data Strucure</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    <div>
                        <h2>Notes</h2>
                                <p><a href="">Containers</a></p>
                                <p><a href="">Cheat-Sheets</a></p>
                                <p><a href="">Audio-Project</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    </div>
                </div></li>
                <li><a href="/linux.html" class="tab">Linux</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div>
                        <h2>Articles</h2>
                        <div class="twoGroups">
                        <div>
                        <p><a href="">Installing Kali Linux.</a></p>
                        <p><a href="">Curl and its flags.</a></p>
                        <p><a href="">Embedded Linux Toolkits</a></p>
                        <p><a href="">Kernel Modules</a></p>
                        </div>
                        <div>
                        <p><a href="">Process Managements.</a></p>
                        <p><a href="">Security & Hardening.</a></p>
                        <p><a href="">System Monitoring.</a></p>
                        <p><a href=""></a></p>
                        </div>
                        </div>
                    </div>
                    <div>
                        <h2>Videos</h2>
                                <p><a href="">Containers & Virtualization.</a></p>
                                <p><a href="">Development Tools.</a></p>
                                <p><a href="">Bootloaders & Minimal Sys.</a></p>
                                <p><a href="">Remote Access.</a></p>
                    </div>
                    <div >
                        <h2>Notes</h2>
                                <p><a href="">Linux for programming.</a></p>
                                <p><a href="">All Linux commads.</a></p>
                                <p><a href="">Networking in Linux.</a></p>
                                <p><a href="">Shell Scripting.</a></p>
                    </div>
                    </div>
                </div></li>
                <li><a href="/notes.html" class="tab">Notes</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div >
                        <h2>Projects</h2>
                        <div class="twoGroups">
                        <div>
                        <p> <a href="">LED Blinking.</a></p>
                        <p><a href="">Gate Simulations.</a></p>
                        <p> <a href="">Linux Deamon(C++)</a></p>
                        <p><a href="">Linux-Based IoT Gateway</a></p>
                        </div>
                        <div>
                        <p><a href="">Custom Distro.</a></p>
                        <p><a href="">File Synchronization.</a></p>
                        <p><a href="">Serial App</a></p>
                        <p><a href="">Linux Process Monitor</a></p>
                        </div>
                        </div>
                    </div>
                    <div>
                        <h2>Linux</h2>
                                <p><a href="">Linux for programming.</a></p>
                                <p><a href="">All Linux commads.</a></p>
                                <p><a href="">Networking in Linux.</a></p>
                                <p><a href="">Shell Scripting.</a></p>
                    </div>
                    <div>
                        <h2>C++</h2>
                                <p><a href="">Containers</a></p>
                                <p><a href="">Cheat-Sheets</a></p>
                                <p><a href="">Audio-Project</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    </div>
                </div></li>
            </ul>

            <div class="headerUtils">

                <div class="search-container" id="search">
                <button id="search-toggle">
                  <i class="fas fa-search"></i>
                </button>
              </div>

                <div class="menu-container" >
                <button id="menu-toggle" class="burger">
                  <i class="fas fa-bars"></i>
                </button>
                <nav id="menu" class="menu-links">
                      <div class="menu-search">
                        <input type="text" id="dropdown-search" autocomplete="off" spellcheck="false" placeholder="Search posts..." />
                        <div id="search-results" class="results-list"></div>
                      </div>
                      <a href="home.html">HOME</a>
                      <a href="cpp.html">C++</a>
                      <a href="embedded.html">EMBEDDED</a>
                      <a href="dsa.html">DSA</a>
                      <a href="linux.html">LINUX</a>
                      <a href="notes.html">NOTES</a>
                  </nav>
                </div>
            </div>
        </nav>

    </header>
    <main class="articleMain">
        <div class="articleArea" id="articleArea">
            <div class="heading">
                <h1>Control Flow in Shell Scripts</h1>
                <div class="categdetails">
                    <div class="details"><small> Last Updated: 4:30PM, August 4 2025</small></div>
                </div>
            </div>

            <div class="articleBody">
                <!--Template Image-->
                <div class="contentImage">
                    <img src="/utilities/raspberrypi.avif" loading="lazy" alt="system call diagrams">
                </div>
                <small style="margin-left: 10%; font-size: 1em; color: gray;">A BareMetal Image</small>
            <p>
            Control flow (Decision construct) in shell scripting enable the program to execute some block of code 
            based on some conditions evaluating to true or false. Control statements in shell is generally achieved 
            by use of if statements and its derivatives. In this article, we are going to walk you throughout the 
            process of writing your first control structure.
            </p>

            <h2>Creating a script file with correct exension</h2>
            <p>
            Shell scripting can be done in particular shell implementation like Bash, Zsh, Ksh and sh. 
            Each shell has its specific file extension like .sh, .zsh or .ksh. Therefore, you have to know what 
            shell is powering your terminal before you name your file. To do so execute the following command:

            <br>
            echo $0 # prints the special variable representing name of current program, in this case the shell
            
            <br>
            After ascertaining the current shell environment, create a script file with corresponding extension. 
            For example, bash has the extension .sh, and zsh has the extension .zsh.
            </p>
            <h2>Including a shebang and the file path</h2>
            <p>
            Shebang (combination of octothrope/hash and exclamation, #!) is an interpreter directive which is 
            followed by a path to the interpreter/shell program you want to execute the script. It is not strictly 
            required but considered good practice because it ensures portability and predictability. 
            Since we already know the shell program, we then use it to get its path:
            <br> <br>
            which bash # replace bash with your shell
            echo $SHELL #prints the file path to the shell
            <br><br>
            After determining the path, open the file using your preferred text editor:
            <br><br>
            <class class="keyword">nano</class> script.sh  or 
            vim script.sh
            <br><br>
            Include the shebang followed closely by the file path at the top of the file:
            #!/bin/bash
            </p>
            <h2>Execute to test</h2>
            <p>
                Add an <class class="keyword">echo</class> command for the purpose of testing:
                <br>
        echo “We good so far”
        <br>
        Since systems file permissions prevents unauthorized read, writes and execution of files, you need to grant execute permissions to the shell program:
        <br>
        chmod o+x script.sh #grant every user execution permissions.
        <br>
        You can then execute the file either by specifying the shell program (repetition if you included shebang) or let the shebang direct. 
        <br>
        sh script.sh
        ./script.sh
        <br>
        The test string will be printed on the terminal indicating successful creation of script file.
            </p>

            <h2>Control Flow Statements in Shell</h2>
            <p>
                There are three control flow statements in shell program and both are based on an a expression 
                (mostly between square brackets unless implemented in C-style) evaluating to boolean value. 
                An exit status of zero means true while all non-zero status means false. All <class class="keyword">if</class> statements are 
                terminated with fi, which is <class class="keyword">if</class> spelled backwards.
            </p>

            <h2>Operators for Control Flow</h2>
            <p>Conditions for the <class class="keyword">if</class> statements are implemented using operators evaluating to boolean. </p>
            <table>
                <caption>Operators for Control Flow</caption>
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Stands for</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>-eq</th>
                        <th>equal to</th>
                    </tr>
                    <tr>
                        <th>-ne</th>
                        <th>not equal to</th>
                    </tr>
                    <tr>
                        <th>-lt</th>
                        <th>less than</th>
                    </tr>
                    <tr>
                        <th>-gt</th>
                        <th>greater than</th>
                    </tr>
                    <tr>
                        <th>-le</th>
                        <th>less than or eqqual to</th>
                    </tr>
                    <tr>
                        <th>-ge</th>
                        <th>greater than or equal to</th>
                    </tr>
                </tbody>
            </table>
            <p>
                Other shell operators like string comparison operators and file test operators can also be used within the 
                square brackets.
            </p>
            <h2>a. if ... then</h2>
            <p>
                The condition between the square brackets executed and <class class="keyword">if</class>the exit status is zero, the shell command inside 
                the <class class="keyword">if</class> block is executed.
            </p>
            <div class="codeSection">
                <div class="headers"><span style="margin-left: 15px;">bash</span> <i class="fas fa-clipboard clipboard" id="clip" onclick="copier(textToCopy)"></i></div>
                <code class="code"> <!--&lt;&lt;  &laquo;-->
                    <pre id="textToCopy">
        if [2 -gt 1]; then 
	        echo “Two is greater than  one”
        fi
                    </pre>
                </code>
            </div>

            <h2>b. if … else</h2>
            <p>
            The condition between the square brackets executed and if the exit status is zero, the shell command inside 
            the <class class="keyword">if</class> block is executed, otherwise the statements inside the else block executed. It provides a way to ensure 
            either of two block will be executed. 
            </p>
            <div class="codeSection">
                <div class="headers"><span style="margin-left: 15px;">bash</span> <i class="fas fa-clipboard clipboard" id="clip" onclick="copier(textToCopy)"></i></div>
                <code class="code"> <!--&lt;&lt;  &laquo;-->
                    <pre id="textToCopy">
        if [2 -gt 3]; then 
            echo “Two is greater than three”
        else
            echo “Two is less than three”
                    </pre>
                </code>
            </div>
            <p>
                NOTE: This examples are bordering useless, we used them to reduce cognitive load by focusing on syntax.
            </p>
            <div class="youMayLike">
            <div>
                <div class="ridge"><h3>YOU MIGHT ALSO LIKE</h3></div>
                <hr>
            </div>
            <ul>
                <li><a href="">1. CAMPUS ACCOMMODATION: Where You Should Stay During Your University Studies in Kenya</a></li>
                <li><a href="">2. 8 Leading Causes of Mental Health Issues Among University Students </a></li>
                <li><a href="">3. Building a Career in Tech: Why Students should consider Tech-Related Majors</a></li>        
            </ul>
            </div>

            <h2>c. if … elif</h2>
            <p>
            The condition between the square brackets executed and if the exit status is zero, the shell command 
            inside the <class class="keyword">if</class> block is executed, otherwise the expression inside the square brackets for elif is also checked.
             It provides a way to check multiple conditions and provide blocks for each. 
            </p>
            <div class="codeSection">
                <div class="headers"><span style="margin-left: 15px;">bash</span> <i class="fas fa-clipboard clipboard" id="clip" onclick="copier(textToCopy)"></i></div>
                <code class="code"> <!--&lt;&lt;  &laquo;-->
                    <pre id="textToCopy">
        Age=18
        if [ $age -gt 18 ]; then 
            echo “You’re over 18, you can vote.”
        elif[ $age -eq 18 ];
            echo “You’re 18, you can vote.”
        else
            echo “You’re too young to vote.”
        fi
                    </pre>
                </code>
            </div>

            <h2>d. Nested if</h2>
            <p>
            This control structure involves placing an <class class="keyword">if</class> statement inside another <class class="keyword">if</class> statement to enable 
            expressing a more complex logic.

            In conclusion, in this article you have learned how to correctly create shell script file, 
            operators for decision construct and the four control flow implementations.
            </p>
            <div class="codeSection">
                <div class="headers"><span style="margin-left: 15px;">bash</span> <i class="fas fa-clipboard clipboard" id="clip" onclick="copier(textToCopy)"></i></div>
                <code class="code"> <!--&lt;&lt;  &laquo;-->
                    <pre id="textToCopy">
        if [ $age -gt 20];
            if[ $age -gt 13 ]; then 
                echo “You’re a teenager”
            fi
        fi
                    </pre>
                </code>
            </div>
            </div>

            <div class="tags">
                <span style="color: seagreen; font-size: larger;">TAGS: </span>
                <span>if</span>,
                <span>shebang</span>,
                <span>echo</span>,
                <span>operators</span>
            </div>
            
        </div>

        <div class="tableContentSponsor">
            <div class="tableContent" id="table">
                <div class="contentHeader">
                    <h3>In This Article</h3>
                </div>
               <ul id="tableList"></ul>
            </div>
            <div class="sponsor">
                    <div class="heading merriweather-text" ><h3>Our Gold Sponsor</h3></div>
                    <p>Our Gold Sponsor, HOSTAFRICA, delivers speed, support, and world-class value. Are you in need of
                        web-hosting, VPS or email services? HOSTAFRICA is at your service.
                    </p>
                    <button><a rel="nofollow" href="https://my.hostafrica.com/aff.php?aff=2379" target="_blank">VISIT</a></button>
            </div>
        </div>

        <!--Floating Icons-->
        <div class="iconBackToTop">
            <a href="https://wa.me/+254743365585" class="floatingIcon" id="iconWhats" title="WhatsApp BareMetal" ><i class="fab fa-whatsapp"></i></a>
            <hr>
            <i class="fas fa-clipboard clipboard" id="clip" onclick="copier(`https://bbc.com`)" title="Copy Page Link"></i>
        </div>
        <div class="loanWolf" title="Move Back Up"><i id="backToTop" class="fas fa-angle-up"></i></div>
        

    </main>
                <script>
                document.addEventListener("DOMContentLoaded", () => {
                const tocList = document.getElementById("tableList");
                const article = document.getElementById("articleArea");

                // Grab headings (adjust selectors as needed)
                const headings = article.querySelectorAll("h2, h3");

                headings.forEach((heading, i) => {
                    // Create id if missing
                    if (!heading.id) heading.id = "heading-" + i;

                    // Build ToC link
                    const li = document.createElement("li");
                    li.style.marginLeft = heading.tagName === "H3" ? "25px" : "15px";

                    const a = document.createElement("a");
                    a.href = "#" + heading.id;
                    a.textContent = heading.textContent;
                    a.style.textDecoration = "none";

                    if (heading.tagName === "H2") {
                    a.style.color = "seagreen";
                    } else if (heading.tagName === "H3") {
                    a.style.color = "aqua";
                    }

                    li.appendChild(a);
                    tocList.appendChild(li);
                });
                });
                
                async function copier(source) {
                    const clipIcon = document.getElementById("clip");
                    let textToCopy = "";

                    if (typeof source === "string") {
                        const el = document.getElementById(source);

                        if (el) {
                            // Copy text from element
                            textToCopy = el.textContent || el.innerText || "";

                            // Show "Copied!" feedback (only for element)
                            clipIcon.className = "";     
                            clipIcon.textContent = "Copied!";

                            setTimeout(() => {
                                clipIcon.className = "fa fa-clipboard clipboard"; 
                                clipIcon.textContent = "";
                            }, 1000);
                        } else {
                            // Copy the string itself (raw text/link)
                            textToCopy = source;
                            // No UI change
                        }
                    } else if (source instanceof HTMLElement) {
                        textToCopy = source.textContent || source.innerText || "";

                        // Show "Copied!" feedback (only for element)
                        clipIcon.className = "";     
                        clipIcon.textContent = "Copied!";

                        setTimeout(() => {
                            clipIcon.className = "fa fa-clipboard clipboard"; 
                            clipIcon.textContent = "";
                        }, 1000);
                    } else {
                        console.error("Invalid source for copier");
                        return;
                    }

                    try {
                        await navigator.clipboard.writeText(textToCopy);
                        console.log("Copied:", textToCopy);
                    } catch (err) {
                        console.error("Couldn't Copy", err);
                    }
                }


              // Floating icons
                const backToTop = document.getElementById("backToTop");
                window.addEventListener("scroll", () => {
                    backToTop.classList.toggle("show", window.scrollY > 600);
                });
                
                backToTop.addEventListener("click", (e) => {
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: "smooth" });
                });
                

</script>

    <footer>
        <div class="footerOne">
            <div class="logoVision">
            <div class="logo"><h2  style="color: seagreen;">BareMetal</h2> <img src="/utilities/community.svg" alt="logoPart"></div>
            <ul>
                <li>"Speak the language of bare metals"</li>
            </ul>
            <div class="campusNewsletter" style="margin-top:10px ;">
              
                <div>
                <br class="desktopOnly">
                <form spellcheck="false" autocomplete="off" action="https://formsubmit.co/baresilicon@gmail.com" method="POST">
                    <input type="email" name="name" placeholder="Sign up for our newsletters" required />
                    <button type="submit">Subscribe</button>
                </form>
                <span style="margin-top: 5px; color: white;"><small>By signing up, you agree to our <a href="/terms.html">Terms of Service</a>,
                    and you acknowledge our <a href="/privacy.html">Privacy Statement</a>.</small></span>
            </div>
        </div>
        </div>

        <div class="otherLinks">
            <h2>Other Links</h2>
            <ul>
                <li><a href="/aboutus.html">About Us</a></li>
                <li><a href="/contactus.html">Contact Us</a></li>
                <li><a href="/privacy.html">Privacy Policy</a></li>
                <li><a href="/terms.html">Terms of Service</a></li>
                
            </ul>
        </div>

        <div class="followUs">
            <h2>Follow Us</h2>
            <ul>
                <li><a href="https://www.youtube.com/@BareMetal9" target="_blank">YouTube</a></li>
                <li><a href="https://www.linkedin.com/company/110603938/"></a>LinkedIn</li>
            </ul>
        </div>
        </div>
        <div class="footerThree">
            <span class="date" style="color: white;">&copy <span id="current-date"></span> BareMetal.</span>
        </div>
    </footer>
</body>
<script>
      const currentDate = new Date();
      document.getElementById('current-date').textContent = currentDate.getFullYear();
</script>
</html>