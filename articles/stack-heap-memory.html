<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BareMetal | Template</title>
    <link rel="icon" type="image/png" href="/utilities/community.svg">
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <a class="logo" href="/home.html"><h2 style="padding-right: 10px;">BareMetal</h2> <img src="/utilities/community.svg" alt="logoPart"></a>
            <ul>
                <li><a href="/home.html" class="tab">Home</a></li>
                <li><a href="/cpp.html" class="tab">C++</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div >
                        <h2>Articles</h2>
                        <div class="twoGroups">
                        <div>
                        <p><a href="">Fundamental Data Types </a></p>
                        <p><a href="">Bitwise Operators</a></p>
                        <p><a href="">Formatting Stream Output</a></p>
                        <p><a href="">Variable Lifetimes</a></p>
                        </div>
                        <div>
                        <p><a href="">Decision Constructs</a></p>
                        <p><a href="">Classes</a></p>
                        <p><a href="">Pointers & References</a></p>
                        <p><a href="">Functions in C++</a></p>
                        </div>
                        </div>
                    </div>
                    <div>
                        <h2>Videos</h2>
                                <p><a href="">Classes Definition</a></p>
                                <p><a href="">Standard Template Library</a></p>
                                <p><a href="">Fundemental Data Types</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    <div>
                        <h2>Notes</h2>
                                <p><a href="">Containers</a></p>
                                <p><a href="">Cheat-Sheets</a></p>
                                <p><a href="">Audio-Project</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    </div>
                </div></li>
                <li><a href="/embedded.html" class="tab">Embedded</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div>
                        <h2>Articles</h2>
                        <p><a href="">Introduction to Embedded Systems.</a></p>
                        <p><a href="">Embedded Linux</a></p>
                        <p><a href="">Low power design</a></p>
                        <p><a href="">Internet of Things</a></p>
                    </div>
                    <div>
                        <h2>Videos</h2>
                        <p><a href="">Embedded Cybersecurity</a></p>
                        <p><a href="">Consumer Electronics</a></p>
                        <p><a href="">Microcontrollers vs Microprocessors</a></p>
                        <p><a href="">Communication Protocols</a></p>
                    </div>
                    <div >
                        <h2>Notes</h2>
                                <p><a href="">DIY projects</a></p>
                                <p><a href="">Cheat-Sheets</a></p>
                                <p><a href="">Case Studies</a></p>
                                <p><a href="">Embedded Linux</a></p>
                    </div>
                    </div>
                </div></li>
                <li><a href="/dsa.html " class="tab">DSA</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div >
                        <h2>Articles</h2>
                        <div class="twoGroups">
                        <div>
                        <p><a href="">Algorithms</a></p>
                        <p><a href="">Data Structures</a></p>
                        <p><a href="">Common Algorithms</a></p>
                        <p><a href="">Embedded systems & algorithms</a></p>
                        </div>
                        <div>
                        <p><a href="">QuickSort</a></p>
                        <p><a href="">Encryption Algoritms</a></p>
                        <p><a href="">Understanding Stacks</a></p>
                        <p><a href="">Divide and Conquer</a></p>
                        </div>
                        </div>
                    </div>
                    <div>
                        <h2>Videos</h2>
                                <p><a href="">Race conditions in OS</a></p>
                                <p><a href="">Scheduling Algorthms</a></p>
                                <p><a href="">Common OS Data Strucure</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    <div>
                        <h2>Notes</h2>
                                <p><a href="">Containers</a></p>
                                <p><a href="">Cheat-Sheets</a></p>
                                <p><a href="">Audio-Project</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    </div>
                </div></li>
                <li><a href="/linux.html" class="tab">Linux</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div>
                        <h2>Articles</h2>
                        <div class="twoGroups">
                        <div>
                        <p><a href="">Installing Kali Linux.</a></p>
                        <p><a href="">Curl and its flags.</a></p>
                        <p><a href="">Embedded Linux Toolkits</a></p>
                        <p><a href="">Kernel Modules</a></p>
                        </div>
                        <div>
                        <p><a href="">Process Managements.</a></p>
                        <p><a href="">Security & Hardening.</a></p>
                        <p><a href="">System Monitoring.</a></p>
                        <p><a href=""></a></p>
                        </div>
                        </div>
                    </div>
                    <div>
                        <h2>Videos</h2>
                                <p><a href="">Containers & Virtualization.</a></p>
                                <p><a href="">Development Tools.</a></p>
                                <p><a href="">Bootloaders & Minimal Sys.</a></p>
                                <p><a href="">Remote Access.</a></p>
                    </div>
                    <div >
                        <h2>Notes</h2>
                                <p><a href="">Linux for programming.</a></p>
                                <p><a href="">All Linux commads.</a></p>
                                <p><a href="">Networking in Linux.</a></p>
                                <p><a href="">Shell Scripting.</a></p>
                    </div>
                    </div>
                </div></li>
                <li><a href="/notes.html" class="tab">Notes</a>
                <div class="sub-banner">
                    <div class="subSections">
                        <div >
                        <h2>Projects</h2>
                        <div class="twoGroups">
                        <div>
                        <p> <a href="">LED Blinking.</a></p>
                        <p><a href="">Gate Simulations.</a></p>
                        <p> <a href="">Linux Deamon(C++)</a></p>
                        <p><a href="">Linux-Based IoT Gateway</a></p>
                        </div>
                        <div>
                        <p><a href="">Custom Distro.</a></p>
                        <p><a href="">File Synchronization.</a></p>
                        <p><a href="">Serial App</a></p>
                        <p><a href="">Linux Process Monitor</a></p>
                        </div>
                        </div>
                    </div>
                    <div>
                        <h2>Linux</h2>
                                <p><a href="">Linux for programming.</a></p>
                                <p><a href="">All Linux commads.</a></p>
                                <p><a href="">Networking in Linux.</a></p>
                                <p><a href="">Shell Scripting.</a></p>
                    </div>
                    <div>
                        <h2>C++</h2>
                                <p><a href="">Containers</a></p>
                                <p><a href="">Cheat-Sheets</a></p>
                                <p><a href="">Audio-Project</a></p>
                                <p><a href="">Polymorphism</a></p>
                    </div>
                    </div>
                </div></li>
            </ul>

            <div class="headerUtils">

                <div class="search-container" id="search">
                <button id="search-toggle">
                  <i class="fas fa-search"></i>
                </button>
              </div>

                <div class="menu-container" >
                <button id="menu-toggle" class="burger">
                  <i class="fas fa-bars"></i>
                </button>
                <nav id="menu" class="menu-links">
                      <div class="menu-search">
                        <input type="text" id="dropdown-search" autocomplete="off" spellcheck="false" placeholder="Search posts..." />
                        <div id="search-results" class="results-list"></div>
                      </div>
                      <a href="home.html">HOME</a>
                      <a href="cpp.html">C++</a>
                      <a href="embedded.html">EMBEDDED</a>
                      <a href="dsa.html">DSA</a>
                      <a href="linux.html">LINUX</a>
                      <a href="notes.html">NOTES</a>
                  </nav>
                </div>
            </div>
        </nav>

    </header>
    <main class="articleMain">
        <div class="articleArea" id="articleArea">
            <div class="heading">
                <h1>nStack and Heap Memory</h1>
                <div class="categdetails">
                    <div class="details"><small> Last Updated: 4:30PM, February 20 2025</small></div>
                </div>
            </div>

            <div class="articleBody">
                <!--Template Image-->
                <div class="contentImage">
                    <img src="/utilities/raspberrypi.avif" loading="lazy" alt="system call diagrams">
                </div>
                <small style="margin-left: 10%; font-size: 1em; color: gray;">A BareMetal Image</small>
            <p>
            Stacks and heaps are classical CS concepts especially in data structures and algorithms. In algorithms, a stack is a LIFO (Last In, First Out) structure while heap is a tree-based structure with strict ordering sub-divided into min-heap and max-heap and is used for priority queues. However, there usage in program memory is not analogous to there usage in data structures. In fact, they are nothing but namesakes.
            <br>
            Stack and heap memory are distinct memory regions for program execution. The names were given for historical reasons, stack for example because of LIFO and heap because its plenty and globally accessible.
            </p>

            <h2>Stack Memory</h2>
            <p>
             Stack is fast, fixed size, LIFO memory used for local variables and stack frame. Stack frame contains details of 
             function call like parameters, local variables, return address, saved frame (caller’s frame). The stack memory 
             is fixed size and can be depleted and further attempts to store there will result in the infamous stack overflow. 
             Stack overflow is a situation where a program runs out of stack memory and crashes. Generally, a stack is used 
             to maintain progression of a program.
            </p>
            <h2>Heap Memory</h2>
            <p>
               Heap is slower, dynamically managed region in a program memory used to store global variables and objects 
               that persists beyond a functions’ scope. There is a debate on whether heap is synonymous to freestore, this is 
               because, C++standards avoids OS-specific terminology and freestore is then defined behaviorally. Heap is 
               generally realized through Direct Memory Access (DMA) which entails explicit request through pointers or 
               implicitly through object creation.
            </p>

            <h2>Differences</h2>
            <table>
                <caption>Table showing Differences</caption>
                <thead>
                    <tr>
                        <th>Basis</th>
                        <th>Explanation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>Access</th>
                        <th>
                    -local to a thread <br>
                    -shared among threads i..e contains global variables and objects
                    </tr>
                    <tr>
                        <th> Management</th>
                        <th> 
                    -automatically managed by the compiler <br>
                    -managed by the programmer or garbage collector
                        </th>
                    </tr>
                    <tr>
                        <th>Speed</th>
                        <th>     
                    -involves moving a single pointer because its a FIFO, faster <br>
                    -slower, searching for free space
                        </th>
                    </tr>
                    <tr>
                        <th>  Size</th>
                        <th> 
                        Limited size dictated by the OS <br>
                        Provided adequate fragment of memory exists
                        </th>
                    </tr>
                    <tr>
                        <th>Structure</th>
                        <th>   
                    Contiguous block of memory <br>
                    non-contiguous fragments
                        </th>
                    </tr>
                    <tr>
                        <th>Persistence</th>
                        <th>  
                    -Automatically destroyed when a function returns or block executed. <br>
                    -Remains until de-allocated by the programmer/ garbage collector
                        </th>
                    </tr>
                    <tr>
                        <th>Usage</th>
                        <th>  
                    Stores local variables and function call information <br>
                    Large, dynamic or shared data structures
                        </th>
                    </tr>
                    <tr>
                        <th>Adapt</th>
                        <th>  
                    Fixed and “overflows” when full <br>
                    -Grows safely as needed
                        </th>
                    </tr>
                </tbody>
            </table>
            
            <p>
                In critical or safety systems, usage of heap is sometimes completely avoided. This is because of these problems
                 related to heap memory:
            </p>
            <h3> 1. Dangling pointers</h3>
            <p>
                When a pointer exists after its usage is over and the memory it pointed to deleted, it retains the memory 
                address unless explicitly deleted by the programmer or garbage collector. These pointers pointing to 
                non-existent variables indefinitely are called dangling pointers.
            </p>
            <h3>  2. Memory fragmentation</h3>
            <p>
                Memory fragmentation occurs when a objects and variables of different types are assigned adequate space on
                 request, there will be small useless sections which may have been useful if were compact/contiguous.
            </p>
            <h3> 3. Multiple deallocations</h3>
            <p>
                Occur when you deallocate an already deallocated (and hence dangling) pointer for a second time using 
                either delete or delete[] in C++, is another recipe for disaster.
            </p>
            <h3>4. Memory Leaks</h3>
            <h3>5. Allocation/Deallocation mismatch</h3>


            <div class="youMayLike">
            <div>
                <div class="ridge"><h3>YOU MIGHT ALSO LIKE</h3></div>
                <hr>
            </div>
            <ul>
                <li><a href="">1. </a></li>
                <li><a href="">2. </a></li>
                <li><a href="">3. </a></li>        
            </ul>
            </div>
            
            </div>

            <div class="tags">
                <span style="color: seagreen; font-size: larger;">TAGS: </span>
                <span>one</span>,
                <span>two</span>,
                <span>three</span>,
                <span>four</span>
            </div>
            
        </div>

        <div class="tableContentSponsor">
            <div class="tableContent" id="table">
                <div class="contentHeader">
                    <h3>In This Article</h3>
                </div>
               <ul id="tableList"></ul>
            </div>
            <div class="sponsor">
                    <div class="heading merriweather-text" ><h3>Our Gold Sponsor</h3></div>
                    <p>Our Gold Sponsor, HOSTAFRICA, delivers speed, support, and world-class value. Are you in need of
                        web-hosting, VPS or email services? HOSTAFRICA is at your service.
                    </p>
                    <button><a rel="nofollow" href="https://my.hostafrica.com/aff.php?aff=2379" target="_blank">VISIT</a></button>
            </div>
        </div>

        <!--Floating Icons-->
        <div class="iconBackToTop">
            <a href="https://wa.me/+254743365585" class="floatingIcon" id="iconWhats" title="WhatsApp BareMetal" ><i class="fab fa-whatsapp"></i></a>
            <hr>
            <i class="fas fa-clipboard clipboard" id="clip" onclick="copier(`https://bbc.com`)" title="Copy Page Link"></i>
        </div>
        <div class="loanWolf" title="Move Back Up"><i id="backToTop" class="fas fa-angle-up"></i></div>
        

    </main>
                <script>
                document.addEventListener("DOMContentLoaded", () => {
                const tocList = document.getElementById("tableList");
                const article = document.getElementById("articleArea");

                // Grab headings (adjust selectors as needed)
                const headings = article.querySelectorAll("h2, h3");

                headings.forEach((heading, i) => {
                    // Create id if missing
                    if (!heading.id) heading.id = "heading-" + i;

                    // Build ToC link
                    const li = document.createElement("li");
                    li.style.marginLeft = heading.tagName === "H3" ? "25px" : "15px";

                    const a = document.createElement("a");
                    a.href = "#" + heading.id;
                    a.textContent = heading.textContent;
                    a.style.textDecoration = "none";

                    if (heading.tagName === "H2") {
                    a.style.color = "seagreen";
                    } else if (heading.tagName === "H3") {
                    a.style.color = "aqua";
                    }

                    li.appendChild(a);
                    tocList.appendChild(li);
                });
                });
                
                async function copier(source) {
                    const clipIcon = document.getElementById("clip");
                    let textToCopy = "";

                    if (typeof source === "string") {
                        const el = document.getElementById(source);

                        if (el) {
                            // Copy text from element
                            textToCopy = el.textContent || el.innerText || "";

                            // Show "Copied!" feedback (only for element)
                            clipIcon.className = "";     
                            clipIcon.textContent = "Copied!";

                            setTimeout(() => {
                                clipIcon.className = "fa fa-clipboard clipboard"; 
                                clipIcon.textContent = "";
                            }, 1000);
                        } else {
                            // Copy the string itself (raw text/link)
                            textToCopy = source;
                            // No UI change
                        }
                    } else if (source instanceof HTMLElement) {
                        textToCopy = source.textContent || source.innerText || "";

                        // Show "Copied!" feedback (only for element)
                        clipIcon.className = "";     
                        clipIcon.textContent = "Copied!";

                        setTimeout(() => {
                            clipIcon.className = "fa fa-clipboard clipboard"; 
                            clipIcon.textContent = "";
                        }, 1000);
                    } else {
                        console.error("Invalid source for copier");
                        return;
                    }

                    try {
                        await navigator.clipboard.writeText(textToCopy);
                        console.log("Copied:", textToCopy);
                    } catch (err) {
                        console.error("Couldn't Copy", err);
                    }
                }


              // Floating icons
                const backToTop = document.getElementById("backToTop");
                window.addEventListener("scroll", () => {
                    backToTop.classList.toggle("show", window.scrollY > 600);
                });
                
                backToTop.addEventListener("click", (e) => {
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: "smooth" });
                });
                

</script>

    <footer>
        <div class="footerOne">
            <div class="logoVision">
            <div class="logo"><h2  style="color: seagreen;">BareMetal</h2> <img src="/utilities/community.svg" alt="logoPart"></div>
            <ul>
                <li>"Speak the language of bare metals"</li>
            </ul>
            <div class="campusNewsletter" style="margin-top:10px ;">
              
                <div>
                <br class="desktopOnly">
                <form spellcheck="false" autocomplete="off" action="https://formsubmit.co/baresilicon@gmail.com" method="POST">
                    <input type="email" name="name" placeholder="Sign up for our newsletters" required />
                    <button type="submit">Subscribe</button>
                </form>
                <span style="margin-top: 5px; color: white;"><small>By signing up, you agree to our <a href="/terms.html">Terms of Service</a>,
                    and you acknowledge our <a href="/privacy.html">Privacy Statement</a>.</small></span>
            </div>
        </div>
        </div>

        <div class="otherLinks">
            <h2>Other Links</h2>
            <ul>
                <li><a href="/aboutus.html">About Us</a></li>
                <li><a href="/contactus.html">Contact Us</a></li>
                <li><a href="/privacy.html">Privacy Policy</a></li>
                <li><a href="/terms.html">Terms of Service</a></li>
                
            </ul>
        </div>

        <div class="followUs">
            <h2>Follow Us</h2>
            <ul>
                <li><a href="https://www.youtube.com/@BareMetal9" target="_blank">YouTube</a></li>
                <li><a href="https://www.linkedin.com/company/110603938/"></a>LinkedIn</li>
            </ul>
        </div>
        </div>
        <div class="footerThree">
            <span class="date" style="color: white;">&copy <span id="current-date"></span> BareMetal.</span>
        </div>
    </footer>
</body>
<script>
      const currentDate = new Date();
      document.getElementById('current-date').textContent = currentDate.getFullYear();
</script>
</html>